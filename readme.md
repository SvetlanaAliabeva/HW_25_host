# –£—Ä–æ–∫ 25. –•–æ—Å—Ç–∏–Ω–≥. –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ

–ü—Ä–∏–≤–µ—Ç, —ç—Ç–æ –°–µ—Ä–µ–∂–∞! –°–µ–≥–æ–¥–Ω—è –º—ã –∑–∞–∫—Ä–µ–ø–∏–º –∑–Ω–∞–Ω–∏–µ –æ —Ö–æ—Å—Ç–∏–Ω–≥–µ –∏ –ø–æ–ø—Ä–æ–±—É–µ–º –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Å–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ.

![–°–Ω–∏–º–æ–∫ —ç–∫—Ä–∞–Ω–∞ 2022-01-12 –≤ 18.10.43.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/f71a3938-e16d-4ec7-9887-4ce810d0fd41/–°–Ω–∏–º–æ–∫_—ç–∫—Ä–∞–Ω–∞_2022-01-12_–≤_18.10.43.png)

### –ó–∞–¥–∞–Ω–∏–µ

–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ —Å–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ¬´–ò–Ω—Å—Ç–∞–≥—Ä–∞–º–º¬ª, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ –Ω–∞ –∫—É—Ä—Å–µ Flask.

### –ö–∞–∫ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∑–∞–¥–∞–Ω–∏–µ

**–®–∞–≥ 1** 

–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç –≤ –Ø–Ω–¥–µ–∫—Å.–û–±–ª–∞–∫–µ. –ü—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –¥–∞–¥—É—Ç –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –≥—Ä–∞–Ω—Ç –Ω–∞ 4000 —Ä. ‚Äî —ç—Ç–æ–≥–æ —Ö–≤–∞—Ç–∏—Ç –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–æ–º–∞—à–Ω–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è.

**–®–∞–≥ 2** 

–°–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É –≤ –Ø–Ω–¥–µ–∫—Å.–û–±–ª–∞–∫–µ. –í—ã–±–∏—Ä–∞–π—Ç–µ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É Ubuntu.

**–®–∞–≥ 3**

–°–æ–∑–¥–∞—Ç—å DNS-–∑–æ–Ω—É —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–∏—Å [Freenom](https://www.freenom.com/) –∏ —É–∫–∞–∑–∞—Ç—å –≤ –Ω–µ–π NS —Å–µ—Ä–≤–µ—Ä–∞ –Ø–Ω–¥–µ–∫—Å–∞ [ns1.yandexcloud.net](http://ns1.yandexcloud.net/) –∏ [ns2.yandexcloud.net](http://ns2.yandexcloud.net/). –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–æ–Ω—É .ga, –Ω–∞ –Ω–µ–π –º–Ω–æ–≥–æ —Å–≤–æ–±–æ–¥–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤. –ù–∞–ø—Ä–∏–º–µ—Ä: [skypro-malenko.ga](http://skypro-malenko.ga/).

**–®–∞–≥ 4** 

–°–æ–∑–¥–∞—Ç—å DNS-–∑–æ–Ω—É –≤ –Ø–Ω–¥–µ–∫—Å.–û–±–ª–∞–∫–µ. [–°—Å—ã–ª–∫–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è](https://cloud.yandex.ru/docs/dns/operations/zone-create-public).

**–®–∞–≥ 5**

–°–æ–∑–¥–∞—Ç—å A-–∑–∞–ø–∏—Å—å DNS, –≤–µ–¥—É—â—É—é –Ω–∞ –∞–¥—Ä–µ—Å –≤–∞—à–µ–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã.

**–®–∞–≥ 6**

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Git.

**–®–∞–≥ 7** 

–ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É —á–µ—Ä–µ–∑ Git.

**–®–∞–≥ 8**

**–®–∞–≥ 9**

–°–æ–∑–¥–∞—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞–∫–µ—Ç—ã. –î–æ–±–∞–≤–∏—Ç—å UNIT-—Ñ–∞–π–ª, –æ–ø–∏—Å—ã–≤–∞—é—â–∏–π –∑–∞–ø—É—Å–∫ –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞, –¥–ª—è –µ–≥–æ —Ä–∞–±–æ—Ç—ã –±–µ–∑ –≤–∞—à–µ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è. 

–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª flask-app.service.

- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ gunicorn - sudo pip install gunicorn.
    
    –ó–∞–ø—É—Å–∫: gunicorn app:app -b 0.0.0.0:80.
    
    –ó–∞–ø—É—Å–∫ —Å n –ø–æ—Ç–æ–∫–∞–º–∏: gunicorn app:app -b 0.0.0.0:80 -w n.
    
    –û–±—ã—á–Ω–æ –∑–∞–ø—É—Å–∫–∞—é—Ç –¥–æ 4 –ø–æ—Ç–æ–∫–æ–≤.
    

**–®–∞–≥ 10**

–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ systemctl (reload, enable, start). –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.

**–®–∞–≥ 11** 

–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Skyprouser –∏ –∑–∞–¥–∞—Ç—å –µ–º—É –ø–∞—Ä–æ–ª—å –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å **–∞–ª–≥–æ—Ä–∏—Ç–º–æ–º –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.**

- –ê–ª–≥–æ—Ä–∏—Ç–º –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
    1. ssh <user>@<ip>.
    2. adduser skypro
        1. —Å–æ—Ö—Ä–∞–Ω—è–µ–º <–ø–∞—Ä–æ–ª—å> (–Ω—É–∂–Ω–æ –ø–æ—Å—Ç–∞–≤–∏—Ç—å —Å–ª–æ–∂–Ω—ã–π),
        2. –æ—Å—Ç–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Å—Ç–∞–≤–ª—è–µ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
    3. usermod -aG sudo skypro.
    4. vim /etc/ssh/sshd_config
        1. –∏–∑–º–µ–Ω—è–µ–º —Å—Ç—Ä–æ—á–∫—É ¬´PasswordAuthentication no¬ª –Ω–∞ ¬´PasswordAuthentication yes¬ª.
        2. —É–¥–∞–ª–∏—Ç—å —Å—Ç—Ä–æ–∫—É (–æ–Ω–∞ –æ–¥–Ω–∞ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è) –∫–æ—Ç–æ—Ä–∞—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ñ–∞–π–ª–µ –ø–æ –ø—É—Ç–∏ `/etc/ssh/sshd_config.d/50-cloud-init.conf`
    5. sudo service ssh restart.
    6. –ü—Ä–∏—Å—ã–ª–∞–µ–º IP-–∞–¥—Ä–µ—Å, –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (skypro) –∏ –ø–∞—Ä–æ–ª—å –ø—Ä–æ–≤–µ—Ä—è—é—â–µ–º—É.

### –ö–∞–∫ —Å–¥–∞–≤–∞—Ç—å –∑–∞–¥–∞–Ω–∏–µ

–ü—Ä–∏–∫—Ä–µ–ø–∏—Ç–µ –≤ –ø–æ–ª–µ ¬´–î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ¬ª:

1. –ê–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞, —Å–æ–∑–¥–∞–Ω–Ω—ã–π –Ω–∞ —ç—Ç–∞–ø–µ 3.
2. –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤, —Å –ø–æ–º–æ—â—å—é –∫–æ—Ç–æ—Ä—ã—Ö –º–æ–∂–Ω–æ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤–∞—à –ø—Ä–æ–µ–∫—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω–æ–π.
3. –ü–∞—Ä–æ–ª—å, –∑–∞–¥–∞–Ω–Ω—ã–π –¥–ª—è Skyprouser –Ω–∞ —ç—Ç–∞–ø–µ 10.

<aside>
üí° **–ü—Ä–∏–º–µ—Ä:**
–∞–¥—Ä–µ—Å –ø—Ä–æ–µ–∫—Ç–∞: [http://skypro-python-test.ga](http://skypro-python-test.ga/),
—Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ Postman,
–º–µ—Ç–æ–¥, –≤—ã–¥–∞—é—â–∏–π –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ Postman,
–ø–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Skyprouser: <–ø–∞—Ä–æ–ª—å>.

</aside>

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ–±—è

–ù–∏–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –∫—Ä–∏—Ç–µ—Ä–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–æ–º–∞—à–Ω–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è:

- [ ]  –ü–æ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –∞–¥—Ä–µ—Å—É –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ.
- [ ]  –í—Å–µ –ø—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç, —á—Ç–æ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ë–î. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å—Ç—å –º–µ—Ç–æ–¥ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Å–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∞ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–ø–∏—Å–æ–∫ –≤—ã–≤–æ–¥–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
- [ ]  –ü—Ä–æ—Ü–µ—Å—Å –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –∑–∞–ø—É—â–µ–Ω —á–µ—Ä–µ–∑ Systemd.